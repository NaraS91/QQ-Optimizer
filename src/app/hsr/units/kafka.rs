use super::{
    utils::flat_value, AdvancedStat, BuffScaling, Modifier, ModifierData, ModifierOrDOT,
    ModifierTarget, Source, Stat, Unit,
};

pub fn modifiers(unit: &Unit) -> Vec<ModifierOrDOT> {
    let mut result = vec![];

    if unit.unique_data.eidolon >= 2 {
        result.push(ModifierOrDOT::Modifier(Modifier::new(
            (unit.kind, Source::Eidolon(2)),
            vec![ModifierData::new(
                ModifierTarget::Allies,
                Stat::Advanced(AdvancedStat::TotalDmgBoost(
                    AdvancedStat::create_dmg_bonus_flag(0, 0, 0, 1, 0),
                )),
                BuffScaling::Additive,
                flat_value!(0.25),
            )],
            true,
        )))
    }

    result
}

const SKILL_PARAMS: [(f32, f32, f32); 15] = [
    (0.8000, 0.6000, 0.3000),
    (0.8800, 0.6150, 0.3300),
    (0.9600, 0.6300, 0.3600),
    (1.0400, 0.6450, 0.3900),
    (1.1200, 0.6600, 0.4200),
    (1.2000, 0.6750, 0.4500),
    (1.3000, 0.6937, 0.4875),
    (1.4000, 0.7125, 0.5250),
    (1.5000, 0.7312, 0.5625),
    (1.6000, 0.7500, 0.6000),
    (1.6800, 0.7650, 0.6300),
    (1.7600, 0.7800, 0.6600),
    (1.8400, 0.7950, 0.6900),
    (1.9200, 0.8100, 0.7200),
    (2.0000, 0.8250, 0.7500),
];

const ULT_PARAMS: [(f32, f32, f32, f32, f32); 15] = [
    (0.4800, 1.0000, 2.0000, 1.1600, 0.8000),
    (0.5120, 1.0000, 2.0000, 1.2688, 0.8200),
    (0.5440, 1.0000, 2.0000, 1.3775, 0.8400),
    (0.5760, 1.0000, 2.0000, 1.4863, 0.8600),
    (0.6080, 1.0000, 2.0000, 1.5950, 0.8800),
    (0.6400, 1.0000, 2.0000, 1.7581, 0.9000),
    (0.6800, 1.0000, 2.0000, 1.9756, 0.9250),
    (0.7200, 1.0000, 2.0000, 2.2475, 0.9500),
    (0.7600, 1.0000, 2.0000, 2.5737, 0.9750),
    (0.8000, 1.0000, 2.0000, 2.9000, 1.0000),
    (0.8320, 1.0000, 2.0000, 3.0414, 1.0200),
    (0.8640, 1.0000, 2.0000, 3.1827, 1.0400),
    (0.8960, 1.0000, 2.0000, 3.3241, 1.0600),
    (0.9280, 1.0000, 2.0000, 3.4655, 1.0800),
    (0.9600, 1.0000, 2.0000, 3.6069, 1.1000),
];

const TALENT_PARAMS: [(f32, f32, f32); 15] = [
    (0.4200, 1.0000, 2.0000),
    (0.5180, 1.0000, 2.0000),
    (0.6160, 1.0000, 2.0000),
    (0.7140, 1.0000, 2.0000),
    (0.8120, 1.0000, 2.0000),
    (0.9100, 1.0000, 2.0000),
    (1.0325, 1.0000, 2.0000),
    (1.1550, 1.0000, 2.0000),
    (1.2775, 1.0000, 2.0000),
    (1.4000, 1.0000, 2.0000),
    (1.4980, 1.0000, 2.0000),
    (1.5960, 1.0000, 2.0000),
    (1.6940, 1.0000, 2.0000),
    (1.7920, 1.0000, 2.0000),
    (1.8900, 1.0000, 2.0000),
];

const TECH_PARAMS: [(f32, f32, f32); 1] = [(1.0000, 2.0000, 0.5000)];

const BASIC_PARAMS: [f32; 9] = [
    0.5000, 0.6000, 0.7000, 0.8000, 0.9000, 1.0000, 1.1000, 1.2000, 1.3000,
];
